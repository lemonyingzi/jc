webpackJsonp([11],{ctwk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mvHQ"),i=a.n(n),r={data:function(){return{tableData:[],params:{page:1,rows:5},total:null,multipleSelection:[]}},methods:{loadData:function(){var t=this,e={page:this.params.page,rows:this.params.rows};this.$api.post("report/report_mp",e,function(e){t.tableData=e.rows,t.total=e.total})},xzbb:function(){var t=this;if(0!=this.multipleSelection.length){var e={},a=this.multipleSelection.map(function(t,e,a){return{MonitorPointType:t.Type,MeasurePointNumber:t.MeasurePointNumber}});a=a.reduce(function(t,a){return!e[a.MonitorPointType]&&(e[a.MonitorPointType]=t.push(a)),t},[]),a=i()(a),this.$api.post("report/create",{data:a},function(e){t.$message({type:"success",message:"报表生成成功"})})}else this.$message({type:"warning",message:"请选择类型"})},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){this.params.rows=t,this.loadData()},handleCurrentChange:function(t){this.params.page=t,this.loadData()}},created:function(){this.loadData()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-title",[t._v("新增报表")]),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",label:"序号",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Type",label:"监测类型","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"MeasurePointNumber",label:"测点编号","min-width":"100"}})],1),t._v(" "),a("div",{staticClass:"pagination-container",staticStyle:{"margin-top":"20px",width:"50%",display:"inline-block"}},[a("el-pagination",{attrs:{background:"","current-page":t.params.page,"page-sizes":[10,20,30,50],"page-size":t.params.rows,layout:"total, sizes, prev, pager, next, jumper",total:Number(t.total)},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-top":"20px"},on:{click:function(e){t.xzbb()}}},[t._v("新增报表")])],1)])],1)],1)},staticRenderFns:[]};var s=a("VU/8")(r,o,!1,function(t){a("f2hx")},"data-v-4e554468",null);e.default=s.exports},f2hx:function(t,e){}});
//# sourceMappingURL=11.c9acea43dffa45c4ca82.js.map