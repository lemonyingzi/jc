{"version":3,"sources":["webpack:///src/views/Report/NewReport_datatable.vue","webpack:///./src/views/Report/NewReport_datatable.vue?53d6","webpack:///./src/views/Report/NewReport_datatable.vue"],"names":["NewReport_datatable","data","date","value6","tableData","params","page","rows","changeRowArr","total","title","columns","水位","field","width","editor","src","name","液压水准","深层水平位移","钢支撑轴力","混凝土支撑轴力","MonitorPointType","value","methods","rowDblclick","row","event","this","$router","push","path","sessionStorage","setItem","stringify_default","changeType","a","loadData","changeRow","i","toggle","scope","_this","includes","$index","type","id","$api","post","r","editable","$nextTick","$refs","mark","length","$el","querySelector","click","save","_this2","p","$message","message","v","reportID","$route","handleSizeChange","val","handleCurrentChange","activated","JSON","parse","getItem","created","Report_NewReport_datatable","render","_vm","_h","$createElement","_c","_self","_v","_s","attrs","placeholder","filterable","on","change","model","callback","$$v","expression","_l","item","key","index","label","gutter","xs","sm","lg","staticStyle","margin-top","border","stripe","row-style","height","row-dblclick","column","prop","min-width","scopedSlots","_u","fn","ref","refInFor","value-key","$event","ThisMeasurementDate","staticClass","float","background","current-page","page-sizes","page-size","layout","Number","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sJA6CAA,GACAC,KADA,WAEA,OACAC,QACAC,OAAA,GACAC,aACAC,QACAC,KAAA,EACAC,KAAA,GAEAC,gBACAC,MAAA,KACAC,MAAA,GACAC,SACAC,MACAF,MAAA,YACAC,UACAE,MAAA,mBAAAH,MAAA,OAAAI,MAAA,OACAD,MAAA,kBAAAH,MAAA,OAAAI,MAAA,OACAD,MAAA,qBAAAH,MAAA,OAAAI,MAAA,QACAD,MAAA,cAAAH,MAAA,YAAAI,MAAA,QACAD,MAAA,yBAAAH,MAAA,SAAAI,MAAA,QACAD,MAAA,cAAAH,MAAA,YAAAI,MAAA,QACAD,MAAA,sBAAAH,MAAA,SAAAI,MAAA,MAAAC,QAAA,IACAF,MAAA,WAAAH,MAAA,YAAAI,MAAA,QACAD,MAAA,uBAAAH,MAAA,iBAAAI,MAAA,QACAD,MAAA,wBAAAH,MAAA,cAAAI,MAAA,QACAD,MAAA,QAAAH,MAAA,KAAAI,MAAA,OAEAE,IAAA,mBACAC,KAAA,cAEAC,QACAR,MAAA,cACAC,UACAE,MAAA,mBAAAH,MAAA,OAAAI,MAAA,OACAD,MAAA,oBAAAH,MAAA,SAAAI,MAAA,OACAD,MAAA,kBAAAH,MAAA,OAAAI,MAAA,OACAD,MAAA,yBAAAH,MAAA,SAAAI,MAAA,QACAD,MAAA,4BAAAH,MAAA,UAAAI,MAAA,QACAD,MAAA,sBAAAH,MAAA,SAAAI,MAAA,MAAAC,QAAA,IACAF,MAAA,yBAAAH,MAAA,UAAAI,MAAA,QACAD,MAAA,oBAAAH,MAAA,QAAAI,MAAA,QACAD,MAAA,wBAAAH,MAAA,SAAAI,MAAA,QACAD,MAAA,QAAAH,MAAA,KAAAI,MAAA,QAEAE,IAAA,mBACAC,KAAA,cAEAE,UACAT,MAAA,gBACAC,UACAE,MAAA,mBAAAH,MAAA,OAAAI,MAAA,QACAD,MAAA,kBAAAH,MAAA,OAAAI,MAAA,QACAD,MAAA,qBAAAH,MAAA,SAAAI,MAAA,QACAD,MAAA,yBAAAH,MAAA,aAAAI,MAAA,QACAD,MAAA,kBAAAH,MAAA,SAAAI,MAAA,QACAD,MAAA,iBAAAH,MAAA,WAAAI,MAAA,QACAD,MAAA,sBAAAH,MAAA,aAAAI,MAAA,QACAD,MAAA,sBAAAH,MAAA,WAAAI,MAAA,QACAD,MAAA,2BAAAH,MAAA,aAAAI,MAAA,QACAD,MAAA,QAAAH,MAAA,KAAAI,MAAA,QAEAE,IAAA,uBACAC,KAAA,gBAEAG,SACAV,MAAA,eACAC,UACAE,MAAA,mBAAAH,MAAA,OAAAI,MAAA,QACAD,MAAA,kBAAAH,MAAA,OAAAI,MAAA,QACAD,MAAA,UAAAH,MAAA,KAAAI,MAAA,QACAD,MAAA,yBAAAH,MAAA,SAAAI,MAAA,QACAD,MAAA,oBAAAH,MAAA,YAAAI,MAAA,QACAD,MAAA,sBAAAH,MAAA,SAAAI,MAAA,MAAAC,QAAA,IACAF,MAAA,iBAAAH,MAAA,YAAAI,MAAA,QACAD,MAAA,cAAAH,MAAA,UAAAI,MAAA,QACAD,MAAA,QAAAH,MAAA,KAAAI,MAAA,QAEAE,IAAA,wBACAC,KAAA,eAEAI,WACAX,MAAA,iBACAC,UACAE,MAAA,mBAAAH,MAAA,OAAAI,MAAA,QACAD,MAAA,kBAAAH,MAAA,OAAAI,MAAA,QACAD,MAAA,yBAAAH,MAAA,SAAAI,MAAA,QACAD,MAAA,oBAAAH,MAAA,YAAAI,MAAA,QACAD,MAAA,sBAAAH,MAAA,SAAAI,MAAA,MAAAC,QAAA,IACAF,MAAA,iBAAAH,MAAA,YAAAI,MAAA,QACAD,MAAA,cAAAH,MAAA,UAAAI,MAAA,QACAD,MAAA,QAAAH,MAAA,KAAAI,MAAA,QAEAE,IAAA,wBACAC,KAAA,kBAGAK,iBAAA,KACAC,MAAA,KAGAC,SACAC,YADA,SACAC,EAAAC,GACAC,KAAAC,QAAAC,MAAAC,KAAA,UAAAH,KAAAjB,QAAAiB,KAAAL,OAAAP,IAAAC,KAAAW,KAAAjB,QAAAiB,KAAAL,OAAAN,OACAe,eAAAC,QAAA,QAAAC,IAAAR,IACAM,eAAAC,QAAA,OAAAL,KAAAL,QAEAY,WANA,SAMAC,GACAR,KAAAS,WACAT,KAAAlB,MAAAkB,KAAAL,OAEAe,UAVA,SAUArC,EAAAyB,GACA,QAAAa,KAAAtC,EACAyB,EAAAa,GAAAtC,EAAAsC,IAGAC,OAfA,SAeAC,EAAAxC,GAAA,IAAAyC,EAAAd,KACAA,KAAApB,aAAAmC,SAAAF,EAAAG,SACAhB,KAAApB,aAAAsB,KAAAW,EAAAG,QAEAhB,KAAAzB,OAAAF,EACA,IAAAmC,GACAS,KAAAjB,KAAAL,MACAuB,GAAAL,EAAAf,IAAAoB,IAEAlB,KAAAmB,KAAAC,KAAA,oBAAAZ,EAAA,SAAAa,GACAP,EAAAxC,KAAA+C,EAAAhD,KACAwC,EAAAf,IAAAwB,UAAAT,EAAAf,IAAAwB,SACAR,EAAAS,UAAA,WACAvB,KAAAwB,MAAAC,KAAAzB,KAAAwB,MAAAC,KAAAC,OAAA,GAAAC,IAAAC,cAAA,SAAAC,aAIAC,KAhCA,WAgCA,IAAAC,EAAA/B,KACA,MAAAA,KAAApB,aAAA8C,OAAA,CAOA,IAAAM,GACAf,KAAAjB,KAAAL,MACAtB,SAEA,QAAAsC,KAAAX,KAAApB,aACAoD,EAAA3D,KAAA6B,KAAAF,KAAAxB,UAAAwB,KAAApB,aAAA+B,KAEAqB,EAAA3D,KAAAiC,IAAA0B,EAAA3D,MACA2B,KAAAmB,KAAAC,KAAA,uBAAAY,EAAA,SAAAX,GACAU,EAAAtB,WACAsB,EAAAE,UACAhB,KAAA,UACAiB,QAAA,gBAlBAlC,KAAAiC,UACAhB,KAAA,UACAiB,QAAA,YAoBAzB,SAxDA,WAyDAT,KAAApB,gBACA,IAAAuD,EAAAnC,KACAgC,GACAtD,KAAAsB,KAAAvB,OAAAC,KACAC,KAAAqB,KAAAvB,OAAAE,KACAsC,KAAAjB,KAAAL,MACAyC,SAAApC,KAAAqC,OAAA5D,OAAAyC,IAEAlB,KAAAmB,KAAAC,KAAA,iBAAAY,EAAA,SAAAX,GACA,QAAAV,KAAAU,EAAA1C,KACA0C,EAAA1C,KAAAgC,GAAAW,UAAA,EAEAa,EAAA3D,UAAA6C,EAAA1C,KACAwD,EAAAtD,MAAAwC,EAAAxC,SAGAyD,iBAzEA,SAyEAC,GACAvC,KAAAvB,OAAAE,KAAA4D,EACAvC,KAAAS,YAEA+B,oBA7EA,SA6EAD,GACAvC,KAAAvB,OAAAC,KAAA6D,EACAvC,KAAAS,aAGAgC,UAxLA,WAyLAzC,KAAAN,iBAAAgD,KAAAC,MAAAvC,eAAAwC,QAAA,MACA5C,KAAAS,YAEAoC,QA5LA,WA6LA7C,KAAAN,iBAAAgD,KAAAC,MAAAvC,eAAAwC,QAAA,MACA5C,KAAAlB,MAAAkB,KAAAjB,QAAAiB,KAAAN,iBAAA,GAAAA,kBAAAZ,MACAkB,KAAAL,MAAAK,KAAAN,iBAAA,GAAAA,mBCzOAoD,GADiBC,OAFjB,WAA0B,IAAAC,EAAAhD,KAAaiD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,cAAAH,EAAAK,GAAAL,EAAAM,GAAAN,EAAAlE,UAAAkE,EAAAK,GAAA,KAAAF,EAAA,UAAAH,EAAAK,GAAA,aAAAF,EAAA,aAA2HI,OAAOC,YAAA,MAAAC,YAAA,GAAsCC,IAAKC,OAAAX,EAAAzC,YAAwBqD,OAAQjE,MAAAqD,EAAA,MAAAa,SAAA,SAAAC,GAA2Cd,EAAArD,MAAAmE,GAAcC,WAAA,UAAqBf,EAAAgB,GAAAhB,EAAA,0BAAAiB,EAAAC,EAAAC,GAAwD,OAAAhB,EAAA,aAAuBe,IAAAC,EAAAZ,OAAiBa,MAAAH,EAAAvE,iBAAAC,MAAAsE,EAAAvE,wBAA+D,GAAAsD,EAAAK,GAAA,KAAAF,EAAA,UAAgCI,OAAOc,OAAA,MAAalB,EAAA,UAAeI,OAAOe,GAAA,GAAAC,GAAA,GAAAC,GAAA,MAAyBrB,EAAA,OAAAA,EAAA,YAA2BsB,aAAavF,MAAA,OAAAwF,aAAA,QAAmCnB,OAAQoB,OAAA,GAAAtG,KAAA2E,EAAAxE,UAAAoG,OAAA,GAAAC,aAA0DC,OAAA,SAAepB,IAAKqB,eAAA/B,EAAAnD,eAAgCmD,EAAAgB,GAAAhB,EAAAjE,QAAAiE,EAAArD,OAAA,iBAAAqF,GAA2D,OAAAA,EAAA7F,OAA0IgE,EAAA,mBAAwBI,OAAO0B,KAAAD,EAAA/F,MAAAmF,MAAAY,EAAAlG,MAAAoG,YAAAF,EAAA9F,OAAkEiG,YAAAnC,EAAAoC,KAAsBlB,IAAA,UAAAmB,GAAA,SAAAxE,GAAiC,OAAAA,EAAAf,IAAAwB,UAA+I6B,EAAA,aAA8DmC,IAAA,OAAAC,UAAA,EAAAhC,OAAgCiC,YAAA,uBAAkC9B,IAAKC,OAAA,SAAA8B,GAA0BzC,EAAAtC,UAAA+E,EAAA5E,EAAAf,OAAkC8D,OAAQjE,MAAAqD,EAAA,OAAAa,SAAA,SAAAC,GAA4Cd,EAAAzE,OAAAuF,GAAeC,WAAA,WAAsBf,EAAAgB,GAAAhB,EAAA,cAAAiB,EAAAC,EAAAC,GAA4C,OAAAhB,EAAA,aAAuBe,IAAAC,EAAAZ,OAAiBa,MAAAH,EAAAyB,oBAAA/F,MAAAsE,UAA7fd,EAAA,OAAyCsB,aAAavF,MAAA,QAAewE,IAAK7B,MAAA,SAAA4D,GAAyBzC,EAAApC,OAAAC,IAAAf,IAAAkF,EAAA/F,YAA4C+D,EAAAK,GAAAL,EAAAM,GAAAzC,EAAAf,IAAAkF,EAAA/F,mBAAjbkE,EAAA,mBAA+Ce,IAAAc,EAAA/F,MAAAsE,OAAwB0B,KAAAD,EAAA/F,MAAAmF,MAAAY,EAAAlG,MAAAoG,YAAAF,EAAA9F,aAAqxB,GAAA8D,EAAAK,GAAA,KAAAF,EAAA,OAA4BwC,YAAA,uBAAAlB,aAAgDC,aAAA,OAAAkB,MAAA,UAAoCzC,EAAA,iBAAsBI,OAAOsC,WAAA,GAAAC,eAAA9C,EAAAvE,OAAAC,KAAAqH,cAAA,aAAAC,YAAAhD,EAAAvE,OAAAE,KAAAsH,OAAA,0CAAApH,MAAAqH,OAAAlD,EAAAnE,QAAoL6E,IAAKyC,cAAAnD,EAAAV,iBAAA8D,iBAAApD,EAAAR,wBAA6E,GAAAQ,EAAAK,GAAA,KAAAF,EAAA,aAAkCsB,aAAaC,aAAA,OAAAkB,MAAA,SAAoCrC,OAAQtC,KAAA,WAAiByC,IAAK7B,MAAAmB,EAAAlB,QAAkBkB,EAAAK,GAAA,yBAEntEgD,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACApI,EACA0E,GATA,EAVA,SAAA2D,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/15.a03e319e5962e8ac26e3.js","sourcesContent":["<template>\r\n  <div>\r\n    <page-title>{{ title }}</page-title>\r\n    <el-row>类型：\r\n      <el-select @change=\"changeType\" v-model=\"value\" placeholder=\"请选择\" :filterable=\"true\">\r\n        <el-option\r\n          v-for=\"(item,key,index) in MonitorPointType\"\r\n          :key=\"index\"\r\n          :label=\"item.MonitorPointType\"\r\n          :value=\"item.MonitorPointType\">\r\n        </el-option>\r\n      </el-select>\r\n    </el-row>\r\n    <el-row :gutter=\"40\">\r\n      <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\">\r\n        <div>\r\n          <el-table border :data=\"tableData\" stripe style=\"width: 100%;margin-top: 20px;\" :row-style=\"{height:'65px'}\" @row-dblclick=\"rowDblclick\">\r\n            <template v-for=\"column in columns[value].columns\">\r\n              <el-table-column :key=\"column.field\" v-if=\"!column.editor\" :prop='column.field' :label='column.title' :min-width='column.width'></el-table-column>\r\n              <el-table-column v-else :prop='column.field' :label='column.title' :min-width='column.width'>\r\n                <template slot-scope=\"scope\">\r\n                  <template v-if=\"!scope.row.editable\">\r\n                    <div style=\"width: 100%\" @click=\"toggle(scope,scope.row[column.field])\">{{ scope.row[column.field] }}</div>\r\n                  </template>\r\n                  <template v-else>\r\n                    <el-select @change=\"changeRow($event, scope.row)\" ref=\"mark\" value-key=\"ThisMeasurementDate\" v-model=\"value6\">\r\n                      <el-option v-for=\"(item,key,index) in date\" :key=\"index\" :label=\"item.ThisMeasurementDate\" :value=\"item\">\r\n                      </el-option>\r\n                    </el-select>\r\n                  </template>\r\n                </template>\r\n              </el-table-column>\r\n            </template>\r\n          </el-table>\r\n          <div class=\"pagination-container\" style=\"margin-top: 20px;float: left;\">\r\n            <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"params.page\" :page-sizes=\"[10,20,30, 50]\" :page-size=\"params.rows\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"Number(total)\">\r\n            </el-pagination>\r\n          </div>\r\n          <el-button style=\"margin-top: 20px;float: right;\" type=\"success\" @click=\"save\">保存报表</el-button>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n      return {\r\n        date: [],\r\n        value6: '',\r\n        tableData: [],\r\n        params: {\r\n          page: 1,\r\n          rows: 5\r\n        },\r\n        changeRowArr:[],\r\n        total: null,\r\n        title: '',\r\n        columns: {\r\n            \"水位\": {\r\n                title: \"水位监测点数据汇总\",\r\n                columns: [\r\n                    { field: 'MonitorPointPart', title: '测点部位', width:'60'},\r\n                    { field: 'MeasurePointNum', title: '测点编号', width:'80'},\r\n                    { field: 'InitialMeasureDate', title: '初测日期', width:'120'},\r\n                    { field: 'InitialData', title: '初测水位高程(m)', width:'100' },\r\n                    { field: 'TheLastMeasurementDate', title: '上次测试时间', width:'120' },\r\n                    { field: 'TheLastData', title: '上次水位高程(m)', width:'120' },\r\n                    { field: 'ThisMeasurementDate', title: '本次测试时间', width:'150',editor:true},\r\n                    { field: 'ThisData', title: '本次水位高程(m)', width:'120' },\r\n                    { field: 'WaterLevelChangeRate', title: '本次水位变化速率(mm/d)', width:'120' },\r\n                    { field: 'TotalWaterLevelChange', title: '本次总水位变化(mm)', width:'120'},\r\n                    { field: 'Notes', title: '备注', width:'60' }\r\n                ],\r\n                src: \"NewReport_detail\",\r\n                name: \"水位水准数据报表详情\"\r\n            },\r\n            \"液压水准\": {\r\n                title: \"液压水准监测点数据汇总\",\r\n                columns: [\r\n                    { field: 'MonitorPointPart', title: '测点部位', width: '60' },\r\n                    { field: 'MeasureNetworkNum', title: '测量网络编号', width: '80' },\r\n                    { field: 'MeasurePointNum', title: '测点编号', width: '80' },\r\n                    { field: 'TheLastMeasurementDate', title: '上次测试时间', width: '100' },\r\n                    { field: 'TheLastTotalSedimentation', title: '上次累计沉降量', width: '100' },\r\n                    { field: 'ThisMeasurementDate', title: '本次测试时间', width: '150',editor:true},\r\n                    { field: 'ThisTotalSedimentation', title: '本次累计沉降量', width: '100' },\r\n                    { field: 'ThisSedimentation', title: '本次沉降量', width: '100' },\r\n                    { field: 'ThisSedimentationRate', title: '本次沉降速率', width: '100' },\r\n                    { field: 'Notes', title: '备注', width: '100' }\r\n                ],\r\n                src: \"NewReport_detail\",\r\n                name: \"水位水准数据报表详情\"\r\n            },\r\n            \"深层水平位移\": {\r\n                title: \"深层水平位移监测点数据汇总\",\r\n                columns: [\r\n                    { field: 'MonitorPointPart', title: '测点部位', width: '100' },\r\n                    { field: 'MeasurePointNum', title: '测点编号', width: '100' },\r\n                    { field: 'TheLastMeasureDate', title: '上次测试时间', width: '100' },\r\n                    { field: 'TheLastMaxTotalChanges', title: '上次累计最大水平位移', width: '100' },\r\n                    { field: 'ThisMeasureDate', title: '本次测试时间', width: '100' },\r\n                    { field: 'ThisMaxChanges', title: '本次最大水平位移', width: '100' },\r\n                    { field: 'ThisMaxTotalChanges', title: '本次累计最大水平位移', width: '100' },\r\n                    { field: 'ThisMaxChangesDepth', title: '本次相应位移深度', width: '100' },\r\n                    { field: 'ThisMaxTotalChangesDepth', title: '本次最大相应位移深度', width: '100' },\r\n                    { field: 'Notes', title: '备注', width: '100' }\r\n                ],\r\n                src: \"NewReport_detail_DHD\",\r\n                name: \"深层水平位移数据报表详情\"\r\n            },\r\n            \"钢支撑轴力\": {\r\n                title: \"钢支撑轴力监测点数据汇总\",\r\n                columns: [\r\n                    { field: 'MonitorPointPart', title: '测点部位', width: '110' },\r\n                    { field: 'MeasurePointNum', title: '测点编号', width: '110' },\r\n                    { field: 'Channel', title: '通道', width: '110' },\r\n                    { field: 'TheLastMeasurementDate', title: '上次测试时间', width: '110' },\r\n                    { field: 'TheLastAxialForce', title: '上次轴力值(kN)', width: '110' },\r\n                    { field: 'ThisMeasurementDate', title: '本次测试时间', width: '150',editor:true},\r\n                    { field: 'ThisAxialForce', title: '本次轴力值(kN)', width: '110' },\r\n                    { field: 'ThisChanges', title: '变化量(kN)', width: '110' },\r\n                    { field: 'Notes', title: '备注', width: '110' }\r\n                ],\r\n                src: \"NewReport_detail_SSAF\",\r\n                name: \"钢支撑轴力数据报表详情\"\r\n            },\r\n            \"混凝土支撑轴力\": {\r\n                title: \"混凝土支撑轴力监测点数据汇总\",\r\n                columns: [\r\n                    { field: 'MonitorPointPart', title: '测点部位', width: '130' },\r\n                    { field: 'MeasurePointNum', title: '测点编号', width: '130' },\r\n                    { field: 'TheLastMeasurementDate', title: '上次测试时间', width: '130' },\r\n                    { field: 'TheLastTotalForce', title: '上次轴力值(kN)', width: '130' },\r\n                    { field: 'ThisMeasurementDate', title: '本次测试时间', width: '150',editor:true },\r\n                    { field: 'ThisTotalForce', title: '本次轴力值(kN)', width: '120' },\r\n                    { field: 'ThisChanges', title: '变化量(kN)', width: '120' },\r\n                    { field: 'Notes', title: '备注', width: '120' }\r\n                ],\r\n                src: \"NewReport_detail_CSAF\",\r\n                name: \"混凝土支撑轴力数据报表详情\"\r\n            }\r\n        },\r\n        MonitorPointType: null,\r\n        value: ''\r\n      }\r\n    },\r\n    methods: {\r\n      rowDblclick(row, event) {\r\n        this.$router.push({path:'Report/'+this.columns[this.value].src,name: this.columns[this.value].name })\r\n        sessionStorage.setItem(\"table\",JSON.stringify(row));\r\n        sessionStorage.setItem(\"type\",this.value);\r\n      },\r\n      changeType(a) {\r\n        this.loadData()\r\n        this.title = this.value\r\n      },\r\n      changeRow(data,row){\r\n        for(var i in data){\r\n          row[i] = data[i]\r\n        }\r\n      },\r\n      toggle(scope,data) {\r\n        if(!this.changeRowArr.includes(scope.$index)){\r\n          this.changeRowArr.push(scope.$index)\r\n        }\r\n        this.value6 = data\r\n        let a = {\r\n          type:this.value,\r\n          id:scope.row.id\r\n        }\r\n        this.$api.post('report/selectDate', a, r => {\r\n          this.date = r.data\r\n          scope.row.editable = !scope.row.editable\r\n          this.$nextTick(function(){\r\n            this.$refs.mark[this.$refs.mark.length-1].$el.querySelector(\"input\").click()\r\n          })\r\n        })\r\n      },\r\n      save() {\r\n        if(this.changeRowArr.length == 0){\r\n          this.$message({\r\n            type: 'warning',\r\n            message: '没有数据修改'\r\n          });\r\n          return\r\n        }\r\n        var p = {\r\n          type: this.value,\r\n          data:[]\r\n        }\r\n        for(var i in this.changeRowArr){\r\n          p.data.push(this.tableData[this.changeRowArr[i]])\r\n        }\r\n        p.data = JSON.stringify(p.data)\r\n        this.$api.post('report/modifySummary', p, r => {\r\n          this.loadData()\r\n          this.$message({\r\n            type: 'success',\r\n            message: '保存成功'\r\n          });\r\n        })\r\n      },\r\n      loadData() {\r\n        this.changeRowArr = []\r\n        var v = this\r\n        var p = {\r\n          page :this.params.page,\r\n          rows :this.params.rows,\r\n          type: this.value,\r\n          reportID: this.$route.params.id\r\n        }\r\n        this.$api.post('report/summary', p, r => {\r\n          for(var i in r.rows){\r\n            r.rows[i].editable = false\r\n          }\r\n          v.tableData = r.rows\r\n          v.total = r.total\r\n        })\r\n      },\r\n      handleSizeChange(val) {\r\n        this.params.rows = val\r\n        this.loadData()\r\n      },\r\n      handleCurrentChange (val){\r\n        this.params.page = val\r\n        this.loadData()\r\n      }\r\n    },\r\n    activated () {\r\n      this.MonitorPointType = JSON.parse(sessionStorage.getItem(\"a\"))\r\n      this.loadData()\r\n    },\r\n    created () {\r\n      this.MonitorPointType = JSON.parse(sessionStorage.getItem(\"a\"))\r\n      this.title = this.columns[this.MonitorPointType[0].MonitorPointType].title\r\n      this.value = this.MonitorPointType[0].MonitorPointType\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/Report/NewReport_datatable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('page-title',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('el-row',[_vm._v(\"类型：\\n    \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"filterable\":true},on:{\"change\":_vm.changeType},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.MonitorPointType),function(item,key,index){return _c('el-option',{key:index,attrs:{\"label\":item.MonitorPointType,\"value\":item.MonitorPointType}})}))],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":40}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":24,\"lg\":24}},[_c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"border\":\"\",\"data\":_vm.tableData,\"stripe\":\"\",\"row-style\":{height:'65px'}},on:{\"row-dblclick\":_vm.rowDblclick}},[_vm._l((_vm.columns[_vm.value].columns),function(column){return [(!column.editor)?_c('el-table-column',{key:column.field,attrs:{\"prop\":column.field,\"label\":column.title,\"min-width\":column.width}}):_c('el-table-column',{attrs:{\"prop\":column.field,\"label\":column.title,\"min-width\":column.width},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.editable)?[_c('div',{staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){_vm.toggle(scope,scope.row[column.field])}}},[_vm._v(_vm._s(scope.row[column.field]))])]:[_c('el-select',{ref:\"mark\",refInFor:true,attrs:{\"value-key\":\"ThisMeasurementDate\"},on:{\"change\":function($event){_vm.changeRow($event, scope.row)}},model:{value:(_vm.value6),callback:function ($$v) {_vm.value6=$$v},expression:\"value6\"}},_vm._l((_vm.date),function(item,key,index){return _c('el-option',{key:index,attrs:{\"label\":item.ThisMeasurementDate,\"value\":item}})}))]]}}])})]})],2),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\",staticStyle:{\"margin-top\":\"20px\",\"float\":\"left\"}},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.params.page,\"page-sizes\":[10,20,30, 50],\"page-size\":_vm.params.rows,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":Number(_vm.total)},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-top\":\"20px\",\"float\":\"right\"},attrs:{\"type\":\"success\"},on:{\"click\":_vm.save}},[_vm._v(\"保存报表\")])],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c376704\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Report/NewReport_datatable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c376704\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NewReport_datatable.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewReport_datatable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewReport_datatable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c376704\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./NewReport_datatable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0c376704\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Report/NewReport_datatable.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}